/*
 *  autoaddress-jquery-control 2.0.0
 *  Copyright (c) 2015 Bizmaps Limited
 *  Made by autoaddress.ie
 *
 *  Ajax Autocomplete for jQuery (c) 2015 Tomas Kirda */
!function(e){"use strict";function t(s,n){var i=function(){},a=this,o={ajaxSettings:{},autoSelectFirst:!0,appendTo:".autoaddress-control",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:3,maxHeight:300,deferRequestBy:0,params:{},formatResult:t.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:i,onSearchComplete:i,onSearchError:i,preserveInput:!1,containerClass:"autocomplete-suggestions",dataType:"text",currentRequest:null,triggerSelectOnValidInput:!1,preventBadQueries:!0,paramName:"query",transformResult:function(t){return"string"==typeof t?e.parseJSON(t):t},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1};a.element=s,a.el=e(s),a.suggestions=[],a.badQueries=[],a.selectedIndex=-1,a.currentValue=a.element.value,a.intervalId=0,a.cachedResponse={},a.onChangeInterval=null,a.onChange=null,a.isLocal=!1,a.suggestionsContainer=null,a.noSuggestionsContainer=null,a.options=e.extend({},o,n),a.classes={selected:"selected",suggestion:"autoaddress-suggestion"},a.hint=null,a.hintValue="",a.selection=null,a.initialize(),a.setOptions(n)}var s=function(){return{escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(e){var t=document.createElement("div");return t.className=e,t.style.position="absolute",t.style.display="none",t}}}(),n={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};t.utils=s,e.Autocomplete=t,t.formatResult=function(e){return e.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},t.prototype={killerFn:null,initialize:function(){var s,n=this,i="."+n.classes.suggestion,a=n.classes.selected,o=n.options;n.element.setAttribute("autocomplete","off"),n.killerFn=function(t){0===e(t.target).closest("."+n.options.containerClass).length&&(n.killSuggestions(),n.disableKillerFn())},n.noSuggestionsContainer=e('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),n.suggestionsContainer=t.utils.createNode(o.containerClass),s=e(n.suggestionsContainer),s.appendTo(o.appendTo),"auto"!==o.width&&s.width(o.width),s.on("mouseover.autocomplete",i,function(){n.activate(e(this).data("index"))}),s.on("mouseout.autocomplete",function(){n.selectedIndex=-1,s.children("."+a).removeClass(a)}),s.on("click.autocomplete",i,function(){n.select(e(this).data("index"))}),n.fixPositionCapture=function(){n.visible&&n.fixPosition()},n.el.on("keydown.autocomplete",function(e){n.onKeyPress(e)}),n.el.on("keyup.autocomplete",function(e){n.onKeyUp(e)}),n.el.on("blur.autocomplete",function(){n.onBlur()}),n.el.on("focus.autocomplete",function(){n.onFocus()}),n.el.on("change.autocomplete",function(e){n.onKeyUp(e)}),n.el.on("input.autocomplete",function(e){n.onKeyUp(e)})},onFocus:function(){this.fixPosition()},onBlur:function(){this.enableKillerFn()},setOptions:function(t){var s=this,n=s.options;e.extend(n,t),s.isLocal=e.isArray(n.lookup),n.orientation=s.validateOrientation(n.orientation,"bottom"),e(s.suggestionsContainer).css({width:n.width+"px","z-index":n.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var e=this;e.disabled=!0,clearInterval(e.onChangeInterval),e.currentRequest&&e.currentRequest.abort()},enable:function(){this.disabled=!1},fixPosition:function(){var t=this,s=e(t.suggestionsContainer),n=s.parent().get(0);if(n===document.body||t.options.forceFixPosition){var i=t.options.orientation,a=s.outerHeight(),o=t.el.outerHeight(),r=t.el.offset(),l={top:r.top,left:r.left};if("auto"===i){var d=e(window).height(),u=e(window).scrollTop(),c=-u+r.top-a,h=u+d-(r.top+o+a);i=Math.max(c,h)===c?"top":"bottom"}if(l.top+="top"===i?-a:o,n!==document.body){var g,p=s.css("opacity");t.visible||s.css("opacity",0).show(),g=s.offsetParent().offset(),l.top-=g.top,l.left-=g.left,t.visible||s.css("opacity",p).hide()}"auto"===t.options.width&&(l.width=t.el.outerWidth()-2+"px"),s.css(l)}},enableKillerFn:function(){var t=this;e(document).on("click.autocomplete",t.killerFn)},disableKillerFn:function(){var t=this;e(document).off("click.autocomplete",t.killerFn)},killSuggestions:function(){var e=this;e.stopKillSuggestions(),e.intervalId=window.setInterval(function(){e.hide(),e.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var e,t=this,s=t.el.val().length,n=t.element.selectionStart;return"number"==typeof n?n===s:!document.selection||(e=document.selection.createRange(),e.moveStart("character",-s),s===e.text.length)},onKeyPress:function(e){var t=this;if((t.disabled||t.visible||e.which!==n.DOWN||!t.currentValue)&&!t.disabled&&t.visible){switch(e.which){case n.ESC:return void t.hide();case n.RIGHT:if(t.hint&&t.options.onHint&&t.isCursorAtEnd()){t.selectHint();break}return;case n.TAB:return t.el.val(t.currentValue),void t.hide();case n.RETURN:if(-1===t.selectedIndex)return void t.hide();t.select(t.selectedIndex);break;case n.UP:t.moveUp();break;case n.DOWN:t.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}},onKeyUp:function(e){var t=this;if(!t.disabled){switch(e.which){case n.UP:case n.DOWN:return}clearInterval(t.onChangeInterval),t.currentValue!==t.el.val()&&(t.options.deferRequestBy>0?t.onChangeInterval=setInterval(function(){t.onValueChange()},t.options.deferRequestBy):t.onValueChange())}},onValueChange:function(){var t,s=this,n=s.options,i=s.el.val(),a=s.getQuery(i);return s.selection&&s.currentValue!==a&&(s.selection=null,(n.onInvalidateSelection||e.noop).call(s.element)),clearInterval(s.onChangeInterval),s.currentValue=i,s.selectedIndex=-1,n.triggerSelectOnValidInput&&-1!==(t=s.findSuggestionIndex(a))?void s.select(t):void(a.length<n.minChars?s.hide():s.getSuggestions(a))},findSuggestionIndex:function(t){var s=this,n=-1,i=t.toLowerCase();return e.each(s.suggestions,function(e,t){return t.value.toLowerCase()===i?(n=e,!1):void 0}),n},getQuery:function(t){var s,n=this.options.delimiter;return n?(s=t.split(n),e.trim(s[s.length-1])):t},getSuggestions:function(t){var s=this,n=s.options;return n.serviceUrl,n.params[n.paramName]=t,n.ignoreParams?null:n.params,"."!==t.substr(t.length-1)&&!1!==n.onSearchStart.call(s.element,n.params)&&e.isFunction(n.lookup)?void n.lookup(t,function(e){s.suggestions=e.suggestions,s.suggest()}):void 0},isBadQuery:function(e){if(!this.options.preventBadQueries)return!1;for(var t=this.badQueries,s=t.length;s--;)if(0===e.indexOf(t[s]))return!0;return!1},hide:function(){var t=this,s=e(t.suggestionsContainer);e.isFunction(t.options.onHide)&&t.visible&&t.options.onHide.call(t.element,s),t.visible=!1,t.selectedIndex=-1,clearInterval(t.onChangeInterval),e(t.suggestionsContainer).hide(),e(t.suggestionsContainer).empty()},suggest:function(){if(0===this.suggestions.length)return void(this.options.showNoSuggestionNotice?this.noSuggestions():this.hide());var t,s=this,n=s.options,i=n.formatResult,a=s.getQuery(s.currentValue),o=s.classes.suggestion,r=s.classes.selected,l=e(s.suggestionsContainer),d=e(s.noSuggestionsContainer),u=n.beforeRender,c="";return n.triggerSelectOnValidInput&&-1!==(t=s.findSuggestionIndex(a))?void s.select(t):void(s.currentValue?(e.each(s.suggestions,function(e,t){c+='<div class="'+o+'" data-index="'+e+'">'+i(t,a)+"</div>"}),d.detach(),l.html(c),e.isFunction(u)&&u.call(s.element,l),s.fixPosition(),l.show(),n.autoSelectFirst&&(s.selectedIndex=0,l.scrollTop(0),l.children("."+o).first().addClass(r)),s.visible=!0):(s.suggestions=[],l.hide(),s.visible=!1))},noSuggestions:function(){var t=this,s=e(t.suggestionsContainer),n=e(t.noSuggestionsContainer);n.detach(),s.empty(),s.append(n),t.fixPosition(),s.show(),t.visible=!0},validateOrientation:function(t,s){return t=e.trim(t||"").toLowerCase(),-1===e.inArray(t,["auto","bottom","top"])&&(t=s),t},activate:function(t){var s,n=this,i=n.classes.selected,a=e(n.suggestionsContainer),o=a.find("."+n.classes.suggestion);return a.find("."+i).removeClass(i),n.selectedIndex=t,-1!==n.selectedIndex&&o.length>n.selectedIndex?(s=o.get(n.selectedIndex),e(s).addClass(i),s):null},selectHint:function(){var t=this,s=e.inArray(t.hint,t.suggestions);t.select(s)},select:function(e){var t=this;t.hide(),t.onSelect(e)},moveUp:function(){var t=this;if(-1!==t.selectedIndex)return 0===t.selectedIndex?(e(t.suggestionsContainer).children().first().removeClass(t.classes.selected),t.selectedIndex=-1,void t.el.val(t.currentValue)):void t.adjustScroll(t.selectedIndex-1)},moveDown:function(){var e=this;e.selectedIndex!==e.suggestions.length-1&&e.adjustScroll(e.selectedIndex+1)},adjustScroll:function(t){var s=this,n=s.activate(t);if(n){var i,a,o,r=e(n).outerHeight();i=n.offsetTop,a=e(s.suggestionsContainer).scrollTop(),o=a+s.options.maxHeight-r,a>i?e(s.suggestionsContainer).scrollTop(i):i>o&&e(s.suggestionsContainer).scrollTop(i-s.options.maxHeight+r),s.options.preserveInput||s.el.val(s.getValue(s.suggestions[t].value))}},onSelect:function(t){var s=this,n=s.options.onSelect,i=s.suggestions[t];s.currentValue=s.getValue(i.value),s.currentValue===s.el.val()||s.options.preserveInput||s.el.val(s.currentValue),s.suggestions=[],s.selection=i,e.isFunction(n)&&n.call(s.element,i)},getValue:function(e){var t,s,n=this,i=n.options.delimiter;return i?(t=n.currentValue,s=t.split(i),1===s.length?e:t.substr(0,t.length-s[s.length-1].length)+e):e},dispose:function(){var t=this;t.el.off(".autocomplete").removeData("autocomplete"),t.disableKillerFn(),e(window).off("resize.autocomplete",t.fixPositionCapture),e(t.suggestionsContainer).remove()}},e.fn.AutoaddressAutocomplete=function(s,n){var i="autocomplete";return 0===arguments.length?this.first().data(i):this.each(function(){var a=e(this),o=a.data(i);"string"==typeof s?o&&"function"==typeof o[s]&&o[s](n):(o&&o.dispose&&o.dispose(),o=new t(this,s),a.data(i,o))})}}(jQuery),function(e){e.fn.AutoaddressTabs=function(t){return this.each(function(){var s={fadeIn:!1,hideHash:!0,selectedTab:1},n=e.extend({},s,t),i=e(this),a=i.children("ul"),o=a.find("a"),r=e("> div",i);o.click(function(e){var t=r.removeClass("selected").filter('[name="'+this.hash+'"]');o.removeClass("selected").filter(this).addClass("selected"),n.fadeIn?t.hide().addClass("selected").fadeIn():t.addClass("selected"),n.hideHash&&e.preventDefault()}),n.selectedTab&&o.eq(n.selectedTab-1).click()})}}(jQuery),$.utils={isLikePostcodeSearch:function(e){return e.toString().replace(/\s+/g,"").toUpperCase().match(/^[a-zA-Z][0-9|W]{2}/)},isPostcodeSearch:function(e){return this.isLikePostcodeSearch(e)&&7===e.replace(/\s+/g,"").length},getLinkUrl:function(e,t){var s,n="";return e&&(s=$.grep(e,function(e){return e.rel==t}),n=s.length?s[0].href:""),n},createDiv:function(e,t){return $("<div/>",{class:e,html:t})},preventMainScroll:function(e){if($(this).height()&&$(this).get(0).scrollHeight-1>$(this).height()){var t=e.originalEvent,s=t.wheelDelta||-t.detail;this.scrollTop+=30*(0>s?1:-1),e.preventDefault()}},keys:{ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40},languages:{en:{code:"EN",string:"English"},ga:{code:"GA",string:"Gaeilge"}},postcodeMatch:{UNDEFINED:0,POSTCODE_APPENDED:100,POSTCODE_VALIDATED:110,POSTCODE_AMENDED:120,ADDRESS_AMENDED:130,POSTCODE_AND_ADDRESS_AMENDED:140,POSTCODE_NOT_APPENDED:200,POSTCODE_RETIRED:210,NUA:300,PARTIAL:400,INCOMPLETE:500,NO_ADDRESS_MATCH:550,FOREIGN:600,INVALID:700}},function(e,t,s){"use strict";function n(t,s){this.element=e(t),this.settings=e.extend({},e.fn.AutoAddress.defaults,s),this.api={url:{byFindAddress:[this.settings.api_domain,"findaddress"].join("/"),autoComplete:[this.settings.api_domain,"autocomplete"].join("/")}},this.language=this.settings.language,this.country=this.settings.country,this.vanityMode=this.settings.vanityMode,this.addressElements=this.settings.addressElements,this.addressProfile=this.settings.addressProfile,this.limit=this.settings.optionsLimit,this.options=[],this.backUrlList=[],this.nextUrl="",this.hasTabs=!1,this.transactionId=null,this.selectedOption=-1,this.init(),this.addContainerWrapper().addSearchField().addSearchButton().addAutoComplete(),e.isFunction(this.settings.onInitialize)&&this.settings.onInitialize.call(this)}e.extend(!0,n.prototype,{init:function(){var e=this;return e.$container=s,e.$searchInput=s,e.$searchButton=s,e.$languageSelect=s,e.$optionsContainer=s,e.$optionsHeader=s,e.$messageContainer=s,e.$backLink=s,e},addContainerWrapper:function(){var t=this;return t.$container=e.utils.createDiv(t.settings.containerClass).appendTo(t.element),"auto"!==t.settings.width&&t.$container.width(t.settings.width),this},addSearchField:function(){var t=this;return t.$searchInput=e("<input/>",{placeholder:t.getLabel("placeHolder"),type:"text",spellcheck:!1}).appendTo(t.$container).addClass(t.settings.searchInputClass).on("input.AutoAddress propertychange.AutoAddress",function(){t.clearErrorMessage();var s=e(this).val();e.isFunction(t.settings.onChange)&&t.settings.onChange.call(t,s),""===s&&e.isFunction(t.settings.onClear)&&t.settings.onClear.call(t),t.options&&(t.setDefaultState(),t.clearBackHistory())}).on("focus.AutoAddress",function(){e.isFunction(t.settings.onFocus)&&t.settings.onFocus.call(t)}).on("keypress.AutoAddress",function(s){s.which==e.utils.keys.RETURN&&(s.preventDefault(),-1!==t.selectedOption?t.optionOnSelect(t.selectedOption,t.options):t.searchQuery(t.$searchInput.val()))}).on("keydown.AutoAddress",function(s){(s.which===e.utils.keys.ESC||s.which===e.utils.keys.TAB)&&(t.setDefaultState(),t.clearBackHistory(),s.which===e.utils.keys.ESC&&t.clearAddress()),t.options&&t.options.length&&(s.which===e.utils.keys.DOWN&&(s.preventDefault(),t.moveDown()),s.which===e.utils.keys.UP&&(s.preventDefault(),t.moveUp()))}),t},addSearchButton:function(){var t=this;return t.$searchButton=e("<button/>",{html:t.getLabel("searchButton"),tabIndex:-1}).addClass(t.settings.searchButtonClass).appendTo(t.$container).on("click",function(e){e.preventDefault(),t.searchQuery(t.$searchInput.val())}),t},addAutoComplete:function(){var e=this;return e.settings.autocomplete&&e.$searchInput.AutoaddressAutocomplete({minChars:e.settings.autocompleteMinChars,appendTo:e.$container,containerClass:e.settings.autocompleteContainer,lookup:function(t,s){e.autoCompleteSearch(t,s)},onSelect:function(t){e.autoCompleteOnSelect(t)}}),e},moveDown:function(){var e=this;e.selectedOption!==e.options.length-1&&e.adjustScroll(e.selectedOption+1)},moveUp:function(){var e=this;if(-1!==e.selectedOption)return 0===e.selectedOption?(e.$optionsContainer.find("."+e.settings.optionsItemClass).removeClass("active"),void(e.selectedOption=-1)):void e.adjustScroll(e.selectedOption-1)},activate:function(t){var s,n,i=this,a="active",o=i.$optionsContainer;return n=i.hasTabs?o.children(".selected").find("."+i.settings.optionsItemClass):o.find("."+i.settings.optionsItemClass),o.find("."+a).removeClass(a),i.selectedOption=t,-1!==i.selectedOption&&n.length>i.selectedOption?(s=n.get(i.selectedOption),e(s).addClass(a),s):void 0},adjustScroll:function(t){var s=this,n=s.activate(t);if(n){var i,a,o,r=e(n).outerHeight(),l=e("."+s.settings.optionsListClass);l&&(i=n.offsetTop,a=l.scrollTop(),o=a+l.height()-r,a>i?l.scrollTop(i):i>o&&l.scrollTop(i-l.height()+r))}},searchQuery:function(e){this.setDefaultState(),e?this.findAddress(e):this.displayErrorMessage(this.getLabel("inputRequired"))},autoCompleteSearch:function(t,s){var n=[],i=[],a={},o=this,r=o.createAPIOptions(this.api.url.autoComplete,t);return o.callApi(r.url,function(r){if(!o.checkResponseContainsError(r)){if(n=r.options,n&&e.each(n,function(e,t){var s={value:t.displayName,data:t};i.push(s)}),t.length>=o.settings.autocompleteMinChars){var l={value:t,data:"auto"};i.unshift(l)}a={suggestions:i},t===o.$searchInput.val()&&s.call(this,a)}},r),o},autoCompleteOnSelect:function(t){var s=this;return e.isFunction(s.settings.onAutoCompleteSelected)&&s.settings.onAutoCompleteSelected.call(this.element,t),"auto"===t.data?s.findAddress(t.value):s.findNextUrl(e.utils.getLinkUrl(t.data.links,"next")),s},optionOnSelect:function(t,s){var n=this,i=s[t];n.findNextUrl(e.utils.getLinkUrl(i.links,"next"))},findAddress:function(e){var t=this,s=t.createAPIOptions(t.api.url.byFindAddress,e);t.displaySearchingAnimation(),t.callApi(s.url,function(e){t.checkResponseContainsError(e)||(t.AddressData=e,t.findAddressWSCallback())},s)},findNextUrl:function(e){var t=this;t.displaySearchingAnimation(),t.callApi(e,function(e){t.checkResponseContainsError(e)||(t.AddressData=e,t.findAddressWSCallback())})},createAPIOptions:function(e,t){var s,n=this;return s=e+"?language="+n.language,n.transactionId&&(s+="&txn="+n.transactionId),{url:s,address:t}},callApi:function(t,s,n){var i=this,a={url:t,dataType:"jsonp",timeout:3e3,type:"GET",success:s,error:function(t){i.displayErrorMessage(i.getLabel("errorMessage")),e.isFunction(i.settings.onLookupError)&&i.settings.onLookupError.call(i,t)},complete:function(){i.hideSearchingAnimation()}};n&&(a.data={key:i.settings.key,limit:i.limit,address:n.address,vanityMode:i.vanityMode,addressElements:i.addressElements,addressProfileName:i.addressProfile,country:i.country}),e.ajax(a)},findAddressWSCallback:function(){var t=this,s=this.AddressData,n=s.result.code,i=s.options,a=e.utils.postcodeMatch,o=s.unmatched,r=s.links;if(t.$searchInput.AutoaddressAutocomplete("hide"),t.setDefaultState(),t.nextUrl&&t.backUrlList.push(t.nextUrl),t.transactionId||(t.transactionId=s.input.txn),t.nextUrl=e.utils.getLinkUrl(r,"self"),e.isFunction(t.settings.onSearchCompleted)&&t.settings.onSearchCompleted.call(this,s),i&&i.length){t.addOptionsContainer().addOptionsHeader();var l=e.grep(i,function(e){return"GroupedBusiness"!==e.optionType.text}),d=e.grep(i,function(e){return"GroupedBusiness"===e.optionType.text});l.length&&d.length&&l.length>1?(t.options=l,t.addressOptions=l,t.businessOptions=d,t.addTabbedOptions(l,d)):(t.options=i,t.addOptions("",i,!1))}else{switch(t.clearBackHistory(),n){case a.POSTCODE_APPENDED:case a.POSTCODE_AMENDED:case a.ADDRESS_AMENDED:case a.POSTCODE_VALIDATED:case a.POSTCODE_AND_ADDRESS_AMENDED:t.clearAddress(),t.addMessageContainer(t.getLabel("addressFound"),t.settings.successMessageContainerClass);break;case a.POSTCODE_NOT_APPENDED:t.addMessageContainer(t.getLabel("noEircodeAppended"),t.settings.infoMessageContainerClass);break;case a.NUA:t.clearAddress(),t.addMessageContainer(t.getLabel("nuaAddressFound"),t.settings.infoMessageContainerClass);break;case a.PARTIAL:t.addMessageContainer(t.getLabel("partialAddress").replace("[unmatched]","<strong>"+o+"</strong>"),t.settings.infoMessageContainerClass);break;case a.INCOMPLETE:t.addMessageContainer(t.getLabel("incompleteAddress"),t.settings.infoMessageContainerClass);break;case a.POSTCODE_RETIRED,a.NO_ADDRESS_MATCH,a.FOREIGN,a.INVALID,a.UNDEFINED:t.addMessageContainer(t.getLabel("noResultFound"),t.settings.infoMessageContainerClass);break;default:t.addMessageContainer(t.getLabel("noResultFound"),t.settings.infoMessageContainerClass)}t.transactionId=null,e.isFunction(t.settings.onAddressFound)&&t.settings.onAddressFound.call(this,s)}t.backUrlList&&t.backUrlList.length&&t.addBackLink()},addMessageContainer:function(t,s){var n=this;return t&&(n.$messageContainer=e.utils.createDiv(s,"<span></span>"+t).appendTo(n.$container),n.addCloseIcon()),n},hideMessageContainer:function(){this.$messageContainer&&this.$messageContainer.remove()},addOptionsContainer:function(){var t=this;return t.$optionsContainer=e.utils.createDiv(t.settings.optionsContainerClass).appendTo(t.$container),t.settings.hoverOptionPanel&&t.$optionsContainer.addClass("hover"),t.$optionsContainer.on("mouseleave.AutoAddress","ul",function(){t.selectedOption=-1,t.$optionsContainer.find(".active").removeClass("active")}),t},addCloseIcon:function(){var t=this;return t.$closeMessage=e("<a/>",{href:"#",tabIndex:-1}).addClass(t.settings.closeIconClass).on("click",function(e){e.preventDefault(),t.hideMessageContainer()}).prependTo(t.$messageContainer),t},addBackLink:function(){var t=this;return t.$backLink=e("<a/>",{html:t.getLabel("back"),href:"#",tabIndex:-1}).addClass(t.settings.backLinkClass).on("click",function(e){e.preventDefault();var s=t.backUrlList.pop();t.nextUrl="",t.findNextUrl(s)}),t.$optionsContainer.after(t.$backLink),t},addOptionsHeader:function(){return this.settings.optionsFoundLabel&&(this.$optionsHeader=e.utils.createDiv(this.settings.infoMessageContainerClass,"<span></span>"+this.getLabel("optionsFound")),this.$optionsContainer.append(this.$optionsHeader)),this},addTabbedOptions:function(t,s){var n=this,i=e("<ul/>",{class:n.settings.multiTabsClass});return i.append('<li><a href="#Residential">'+n.getLabel("addressTab")+"</a></li>"),i.append('<li><a href="#Commercial">'+n.getLabel("businessTab")+"</a></li>"),n.$optionsContainer.append(i),i.on("click.AutoAddress","a",function(){n.$searchInput.focus(),n.selectedOption=-1,n.options="#Commercial"==e(this).attr("href")?n.businessOptions:n.addressOptions}),n.addOptions("Residential",t,!0),n.addOptions("Commercial",s,!0),e("."+n.settings.optionsContainerClass).AutoaddressTabs(),n.hasTabs=!0,n},addOptions:function(t,s,n){var i,a=this;i=n?e("<div/>",{class:a.settings.optionsListClass+" "+a.settings.multiTabPaneClass,name:"#"+t}):e.utils.createDiv(a.settings.optionsListClass);var o=a.getOptionsListItems(s);return i.append(e("<ul>").append(o)),a.$optionsContainer.append(i),i.on("click","li",function(t){t.preventDefault(),a.optionOnSelect(e(this).data("index"),s)}).on("mousewheel DOMMouseScroll",e.utils.preventMainScroll),a},getOptionsListItems:function(t){var s="",n=this;return e.each(t,function(e,t){var i=t.displayName,a="apartment",o="  -  ",r=t.addressType?t.addressType.code:0,l=t.optionType?t.optionType.code:0,d=i.toLowerCase().indexOf(a),u=i.lastIndexOf(o),c=2e3===r||0===l?"ma-arrow":"ma-list",h=i.substring(u+o.length);if(i)if(d>=0&&u>=0){var g=d+a.length,p=i.substring(g,u);i=i.replace(p,"<strong>"+p+"</strong>").replace(h,"<em>"+h+"</em>")}else if(u>=0){var f=i.substring(0,u);i=i.replace(f,"<strong>"+f+"</strong>").replace(h,"<em>"+h+"</em>")}s+='<li class="'+n.settings.optionsItemClass+'" data-index="'+e+'"><a tabindex="-1" href><span class="f-right '+c+'"></span>'+i+"</a></li>"}),s},setDefaultState:function(){var e=this;return e.$optionsContainer&&e.$optionsContainer.remove(),e.$messageContainer&&e.$messageContainer.remove(),e.$backLink&&e.$backLink.remove(),e.hasTabs=!1,e.selectedOption=-1,e.clearErrorMessage(),e.hideSearchingAnimation(),e},clearBackHistory:function(){return this.options=[],this.backUrlList.length=0,this.nextUrl="",this},clearErrorMessage:function(){return this.$messageContainer&&this.$messageContainer.remove(),this},displaySearchingAnimation:function(){var t=this;return e.isFunction(t.settings.onSearchStart)&&t.settings.onSearchStart.call(this),t.hasTabs=!1,t.$loadingContainer=e.utils.createDiv(this.settings.searchingClass).appendTo(t.$searchButton),t.$loadingContainer.append(e.utils.createDiv(this.settings.loadingAnimationClass)),t.$searchButton.addClass(t.settings.hideButtonTextClass),t},hideSearchingAnimation:function(){var e=this;return this.$loadingContainer&&(this.$loadingContainer.remove(),this.$searchButton.removeClass(e.settings.hideButtonTextClass)),this},displayErrorMessage:function(t){var s=this;return s.$messageContainer&&s.clearErrorMessage(),t?(s.setDefaultState(),s.$messageContainer=e.utils.createDiv(s.settings.errorMessageContainerClass,"<span></span>"+t).appendTo(this.$container),s.addCloseIcon(),s):s},setAddress:function(e){return this.clearAddress(),this.$searchInput.val(e),this},setLanguage:function(e){return this.language=e,this},setCountry:function(e){return this.country=e,this},setProfileName:function(e){return this.addressProfile=e,this},setLimit:function(e){return this.limit=e,this},setVanityMode:function(e){return this.vanityMode=e,this},setAddressElements:function(e){return this.addressElements=e,this},clearAddress:function(){return this.$searchInput.val(""),e.isFunction(this.settings.onClear)&&this.settings.onClear.call(this),this},getLabel:function(t){var s=this,n="",i=s.language.toUpperCase()===e.utils.languages.en.code;switch(t){case"placeHolder":n=i?s.settings.placeHolderLabel:s.settings.placeHolderLabel_ga;break;case"searchButton":n=i?s.settings.searchButtonLabel:s.settings.searchButtonLabel_ga;break;case"optionsFound":n=i?s.settings.optionsFoundLabel:s.settings.optionsFoundLabel_ga;break;case"incompleteAddress":n=i?s.settings.incompleteAddressLabel:s.settings.incompleteAddressLabel_ga;break;case"partialAddress":n=i?s.settings.partialAddressLabel:s.settings.partialAddressLabel_ga;break;case"nuaAddressFound":n=i?s.settings.nuaAddressFoundLabel:s.settings.nuaAddressFoundLabel_ga;break;case"noResultFound":n=i?s.settings.noResultFoundLabel:s.settings.noResultFoundLabel_ga;break;case"noEircodeAppended":n=i?s.settings.noEircodeAppendedLabel:s.settings.noEircodeAppendedLabel_ga;break;case"addressFound":n=i?s.settings.addressFoundLabel:s.settings.addressFoundLabel_ga;break;case"inputRequired":n=i?s.settings.inputRequiredLabel:s.settings.inputRequiredLabel_ga;break;case"addressTab":n=i?s.settings.addressTabLabel:s.settings.addressTabLabel_ga;break;case"businessTab":n=i?s.settings.businessTabLabel:s.settings.businessTabLabel_ga;break;case"back":n=i?s.settings.backLabel:s.settings.backLabel_ga}return n},checkResponseContainsError:function(t){var s=this,n=!1;if(t.errors){var i=t.errors[0];s.displayErrorMessage(i.message),e.isFunction(s.settings.onLookupError)&&s.settings.onLookupError.call(s,t),n=!0}return n}}),e.fn.AutoAddress=function(t,s){var i="AutoAddress";return 0===arguments.length?this.first().data(i):this.each(function(){var a=e(this),o=a.data(i);"string"==typeof t?o&&"function"==typeof o[t]&&o[t](s):(o&&o.dispose&&o.dispose(),o=new n(this,t),a.data(i,o),e.isFunction(o.settings.onInitialize)&&o.settings.onInitialize.call(o))})}}(jQuery,window),$.fn.AutoAddress.defaults={key:"",language:"EN",country:"IE",vanityMode:!1,addressElements:!1,addressProfile:"",optionsLimit:"-1",autocomplete:!0,autocompleteMinChars:3,width:"auto",hoverOptionPanel:!1,placeHolderLabel:"Enter Full Address or Postcode",searchButtonLabel:"Search",optionsFoundLabel:"Please select an option below",incompleteAddressLabel:"Too little information, please enter more details.",partialAddressLabel:"Couldn't find [unmatched] try again or enter address manually below.",nuaAddressFoundLabel:"We’ve found the address, please add your Postcode in the text box below if you know it",noResultFoundLabel:"No search results have been found.",noEircodeAppendedLabel:"Address Found, but no Postcode Available.",addressFoundLabel:"Postcode Found, address populated below.",inputRequiredLabel:"Enter a full address or Postcode to begin your search.",errorMessageLabel:"Sorry, an unexpected error has occurred.",addressTabLabel:"Address",businessTabLabel:"Business",backLabel:"Back",placeHolderLabel_ga:"Cuir isteach seoladh iomlán nó Eircode",searchButtonLabel_ga:"Cuardaigh",op55770tionsFoundLabel_ga:"Roghnaigh ceann de na roghanna seo thíos le do thoil:",incompleteAddressLabel_ga:"Ár leithscéal, tá tuilleadh eolais at teastáil uainn",partialAddressLabel_ga:"Ní rabhamar in ann an seoladh a mheaitseáil. Seiceáil an seoladh, le do thoil, agus cuardaigh arís.",nuaAddressFoundLabel_ga:"Táimid tar éis a fuair an seoladh , le do thoil cuir do Eircode sa bhosca thíos má tá a fhios agat é",noResultFoundLabel_ga:"Gan torthaí cuardaigh a shuífear",noEircodeAppendedLabel_ga:"Seoladh Aimsíodh , ach gan aon Eircode fáil",addressFoundLabel_ga:"Eircode Aimsíodh , seoladh daonra thíos",inputRequiredLabel_ga:"Cuir isteach seoladh iomlán nó Eircode le tús a chur le do chuardach.",errorMessageLabel_ga:"Tá brón orainn , tá earráid gan choinne a tharla",addressTabLabel_ga:"Seoladh",businessTabLabel_ga:"Gnólacht",backLabel_ga:"Siar",containerClass:"autoaddress-control",searchButtonClass:"autoaddress-button",searchInputClass:"autoaddress-text-box",optionsContainerClass:"autoaddress-options-container",optionsListClass:"autoaddress-options-list",optionsItemClass:"autoaddress-options-item",errorMessageContainerClass:"autoaddress-options-msg error",infoMessageContainerClass:"autoaddress-options-msg info",successMessageContainerClass:"autoaddress-options-msg success",searchingClass:"autoaddress-circle-spinner",loadingAnimationClass:"autoaddress-loader",hideButtonTextClass:"btn-hide-text",autocompleteContainer:"autoaddress-autocomplete",autocompleteSuggestion:"autoaddress-suggestion",backLinkClass:"autoaddress-back-link",closeIconClass:"autoaddress-close-msg",multiTabsClass:"autoaddress-options-tabs",multiTabPaneClass:"autoaddress-options-tab-pane",api_domain:"https://api.autoaddress.ie/2.0",onInitialize:$.noop,onSearchStart:$.noop,onAddressFound:$.noop,onSearchCompleted:$.noop,onAutoCompleteSelected:$.noop,onLookupError:$.noop,onChange:$.noop,onClear:$.noop,onFocus:$.noop};