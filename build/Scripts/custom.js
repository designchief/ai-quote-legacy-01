(function(n){n.fn.dynamicfocus=function(t){function h(){return s=="tab"?9:this.key=="any"?i:s.charCodeAt(0)}for(var i=null,r=[],o=[],s="tab",e,f,u=0;u<t.length;u++)e=t[u].split(":"),r.push(e[0]),o.push(e[1]);f=n(this);f.keydown(function(n){i=n.keyCode||n.which});f.keyup(function(){i=null});f.blur(function(t){if(i==h()){t.preventDefault();for(var u=0;u<r.length;u++)if(this.selectedIndex==r[u]||this.selectedIndex>0&&r[u]=="any"){n(o[u]).focus();break}}})}})(jQuery),function(n){"use strict";function t(t,i){var u,r;t!=null&&(u=t.fileName!=null?t.fileName:document.location,i==null&&t.stack!=null&&(i=t.stack),r=t.message!=null?t.name+": "+t.message:t,r+=": at document path '"+u+"'.",i!=null&&(r+="\n  at "+i),n.ajax({type:"POST",global:!1,url:n.ALZ.GetApplicationRoot()+"/Quote/LogJSError",data:{message:encodeURI(r)}}))}n(function(){var i=n("form")[0],r=i&&n.data(i,"validator"),t=r&&r.settings;t&&(t.ignore=t.ignore+", .ignore")});window.onerror=function(i,r,u){t(i,arguments[4].stack);try{n.ALZ.ShowDialog("overlay-UnknownError")}catch(f){window.console&&window.console.log&&window.console.log("Error raised: "+i+" on line "+u+" for "+r);window.alert(":( We are very sorry. An error has occurred or your session has timed out. Please try again later.")}};n(document).ajaxError(function(i,r,u){!r||r.status===0||r.readyState===0||(t("Ajax call error. Server message: "+r.responseText+"\nAjax details: "+JSON.stringify({url:u.url,type:u.type,data:u.data})),window.location.href=n.ALZ.GetApplicationRoot()+"/Error/IndexAjax")});n.ALZ===undefined&&(n.ALZ={ALZ_MIN_DATE:"01/01/0001",DROPDOWN_PLEASE_SELECT:"-- Please select --",PAGE_ONE_ID:"#page1",DISABLE_OPACITY_VALUE:.1,RESET_OPACITY:1,DISPLAY_DELAY_TIME:300,MakeJQueryId:function(n){if(!n)throw new Error("id cannot resolve to false");if(n instanceof jQuery)return n;var t=n.charAt(0)!=="#"?"#"+n:n;return t.replace(".","_")},IsNorthernIreland:function(){return n("#IsNorthernIreland[type=hidden]").val()==="True"},GetCurrencySymbol:function(t){return(t=t||n("#IsNorthernIreland[type=hidden]").val()==="True"||!1,t)?"£":"€"},IsEmptyField:function(t){return n.trim(n(t).val()).length===0},IsMinDate:function(t){return n.trim(n(t).val())===n.ALZ.ALZ_MIN_DATE},ClearMinDate:function(t){n.ALZ.IsMinDate(t)&&n(t).val("")},RestrictMaxCharacters:function(t,i){n(t).attr("maxlength",i)},NumericOnly:function(t){n(t).keydown(function(n){var t=n.which||n.keyCode;return t===9||t===8||t>=35&&t<=40?!0:!n.shiftKey&&!n.altKey&&!n.ctrlKey&&(t>=48&&t<=57||t>=96&&t<=105||t===13||t===46||t===45)?!0:t===33||t===34||n.ctrlKey&&(t===35||t===36)?!0:!1})},NoSpaces:function(t){n(t).keydown(function(n){var t=n.which||n.keyCode;return t===32?!1:!0})},PhoneOnly:function(t){n(t).keydown(function(n){var t=n.which||n.keyCode;return t===9||t===8||t>=35&&t<=40?!0:!n.shiftKey&&!n.altKey&&!n.ctrlKey&&(t>=48&&t<=57||t>=96&&t<=105||t===13||t===46||t===45||t===32||t===107)?!0:n.shiftKey&&t===61||t===33||t===34||n.ctrlKey&&(t===35||t===36)?!0:!1})},DisableNotAllowedKeysInSpecialInputs:function(t){var i=t||n("input[type='numeric'], input[type='tel'], input[type='email']","#page0, #page1, #page2, #page4");n.ALZ.NumericOnly("input[type='number']",i);n.ALZ.NoSpaces("input[type='email']",i);n.ALZ.PhoneOnly("input[type='tel']",i)},ConvertToCurrency:function(n,t){var i=n.toString(),r=i.length;return r>3?this.GetCurrencySymbol(t)+i.substring(0,r-3)+","+i.substring(r-3,r):this.GetCurrencySymbol(t)+i},GetApplicationRoot:function(){return window.ApplicationRoot||n.ALZ.AddressConfiguration.ApplicationRoot||""},DisableButton:function(t,i,r,u){var f,o,e,s,h=n.ALZ;if(f=r?n(t,r):n(t),o=f.prop("tagName"),o==="DIV")e=f,s=n("button, input[type=button]",e);else if(o==="BUTTON"||o==="INPUT")e=f.closest("div"),s=f;else throw new Error("This selector is not of the correct type.");i?(u||s.prop("disabled",!1),e.animate({opacity:h.RESET_OPACITY},h.DISPLAY_DELAY_TIME)):(u||s.prop("disabled",!0),e.stop().animate({opacity:h.DISABLE_OPACITY_VALUE},h.DISPLAY_DELAY_TIME))},DisableButtonsWhenSubmit:function(){n(function(){var r=n("form"),t=n("button[type=submit].primary, input[type=submit].primary"),i=function(r){var u=this.form;r.preventDefault();n.ALZ.DisableButton(this);n(u).valid()?(setTimeout(function(){t.each(function(){t.one("click",i);n(this).is(":disabled")&&n.ALZ.DisableButton(this,!0)})},3e4),u.submit()):(n.ALZ.DisableButton(this,!0),n.ALZ.FocusFirstError())};r.on("invalid-form.validate",function(){t.each(function(){n.ALZ.DisableButton(this,!0)})});t.click(i)})},AddOptionsToDropdown:function(t,i,r,u,f,e){function s(n,t){return t===undefined?"<option value=''>"+n+"<\/option>":"<option value='"+t+"'>"+n+"<\/option>"}var o="";f=f||"Value";e=e||"Text";u&&(o=s(u));n.each(i,function(){o+=s(this[e],this[f])});r&&(o+=s(r));t.html(o)},GetSelectedValueFromDropdown:function(t){return t=n.ALZ.MakeJQueryId(t),n("option:selected",t).val()},GetSelectedValueFromDropdownWithComposedValue:function(t){var i=n.ALZ.GetSelectedValueFromDropdown(t);return i.substring(i.indexOf("|")+1)},SelectOptionInDropdownWithComposedValue:function(t,i){t=n.ALZ.MakeJQueryId(t);n("option[value $= '|"+i+"']",t).prop("selected",!0)},ToggleCheckboxes:function(t){var i;t=t||".toggleCheckbox";i=n(t);i.click(function(t){var r=n(this),i=n("input[type=checkbox]",r),u=n(t.target).is(":checkbox");u||(i.is(":checked")?i.prop("checked",!1):i.prop("checked",!0));i.is(":checked")?r.prev("div.alertmsg").hide():r.prev("div.alertmsg").show()})},ValidateMandatoryCheckboxes:function(t){var i,r,u=!0;return t=t||".mandatoryCheckbox",i=n(t),r=n("input[type=checkbox]",i).filter(":visible").not(".ignore"),r.each(function(){this.checked?n(this).closest("DIV").prev("div.alertmsg").hide():(u=!1,n(this).closest("DIV").prev("div.alertmsg").show())}),u},ShowDialog:function(t){var i;if(t=t||"#overlay-domainError",i=n(n.ALZ.MakeJQueryId(t)),i.length<1)throw new Error("The generic error message div doesn't exist in the page.");return i.overlay({top:"center",mask:{color:"#003781",loadSpeed:400,opacity:.6},closeOnClick:!0}),i.data("overlay").load(),!0},DisplayDomainError:function(t,i){var r=n(n.ALZ.MakeJQueryId(t)),u=n(n.ALZ.MakeJQueryId(i));if(r.length>0&&u.length>0)r.val().toLowerCase()==="true"&&n.ALZ.ShowDialog();else throw new Error("Make sure that there is a hidden field tag for each domain error; e.g.: #IsDomainError");},GetSelectedValueFromRadioButton:function(t,i){return i=i?n.ALZ.MakeJQueryId(i):n("form")[0],n("input[name='"+t+"']",i).filter(":radio:checked").val()},DropdownsCallbackSuccess:function(t){return function(i){var r=n(t);r.empty();parseInt(r[0].Value,10)>-1&&r.append("<option value = ''>"+n.ALZ.DROPDOWN_PLEASE_SELECT+"<\/option>");n.each(i,function(t,i){r.append(n("<option><\/option>").val(i.Value).html(i.Text))})}},GetDropdownSubscribe:function(t,i,r){var u=n.ALZ.GetApplicationRoot(),f=n.ALZ.DropdownsCallbackSuccess(t);n.getJSON(u+i,r(),f).error(function(){window.location.href=u+"/Error/IndexAjax"})},MakeUserFriendlyRadioButtons:function(){n("label > input[type='radio']","span.radiobtn").closest("span.radiobtn").click(function(){var t=n("label > input[type='radio']",this).filter(":first");t.prop("checked")||(t.prop("checked",!0),t.trigger("click",null),t.trigger("change",null),t.valid());t.trigger("focus",null)})},ShowIfRadioYes:function(t,i){var r=n("input[type='radio'][name='"+t+"']");n.each(r,function(){this.selectorToShow=i});r.on("ALZ.RedisplayDependants",null,null,function(t){var i=t.target;n.ALZ.RedisplayByRadio(i)});r.click(function(){n(this).trigger("ALZ.RedisplayDependants")})},Focus:function(t){var i=n(t),r=i.is(":checkbox")?90:20;i.length&&n("html, body").animate({scrollTop:i.offset().top-r},750)},FocusNextInput:function(t){n(t).closest("div.formitem").nextAll().filter(":visible").filter(":first").find(".forminput:visible").filter(":first").children().filter(":first").focus()},FocusNextWhenTab:function(t){var i=t.keyCode||t.which;i!==9||t.shiftKey||n.ALZ.FocusNextInput(this)},FocusFirstError:function(){n.ALZ.FocusFirstInputWithAnError()},RedisplayByRadio:function(t){if(t.selectorToShow){var i=n(t);i.val().toLowerCase()==="true"?n(t.selectorToShow).show():n(t.selectorToShow).hide()}},RedisplayByDropdown:function(t){var i=t.selectorToShow,r=t.conditionFunction,u;i&&r&&(u=n("option",t).filter(":selected").val(),r(u)?n(i).removeClass("initialstatehidden").show():n(i).hide())},ShowIfDropdownWith:function(t,i,r){var f,u;if(typeof r!="function"&&(f=r,r=function(n){return n===f}),t=n.ALZ.MakeJQueryId(t),u=n(t),u.length>0){u[0].conditionFunction=r;u[0].selectorToShow=i;this.MarkAsHavingDependants(u);u.on("ALZ.RedisplayDependants",null,null,function(t){var i=t.target;n.ALZ.RedisplayByDropdown(i)});u.on("change",null,u[0],function(t){var i=t.target;n(i).trigger("ALZ.RedisplayDependants")})}},MarkAsHavingDependants:function(t){n(t).addClass("hasDependants")},RedisplayDependants:function(){n("input[type='radio']").filter(":checked").each(function(){n(this).trigger("ALZ.RedisplayDependants")});n("select.hasDependants").each(function(){n(this).trigger("ALZ.RedisplayDependants")})},FocusFirstInputWithAnError:function(){var t=n(".invalid, .input-validation-error","#page0, #page1, #page2, #page3, #page4").filter(":visible:first");t.length&&n.ALZ.Focus(t)},GetQueryStringValueByName:function(n){var i="[\\?&]"+n+"=([^&#]*)",r=new RegExp(i),t=r.exec(window.location.href);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))},ConfigureValidators:function(){var i=n("form"),t,r;i.length>0&&(t=n.data(i[0],"validator").settings,r=t.errorPlacement,t.errorPlacement=function(t,i){r(t,i);t.text()?n(i).is("select")?n(i).parent().addClass("invaliddropdown"):n(i).is("input[type='radio']")&&n(i).closest("div.forminput").addClass("invalidradiobutton"):n(i).is("select")?n(i).parent().removeClass("invaliddropdown"):n(i).is("input[type='radio']")&&n(i).closest("div.forminput").removeClass("invalidradiobutton")})}});n.validator.unobtrusive.adapters.add("mandatory",function(n){n.rules.required=!0;n.message&&(n.messages.required=n.message)});n.validator.unobtrusive.adapters.addBool("mandatory","required");n.validator.addMethod("date",function(n,t){var r,i=n.match(/([0-9]+)/gi);return i?(r=i[1]+"/"+i[0]+"/"+i[2],this.optional(t)||!/Invalid|NaN/.test(new Date(r))):this.optional(t)||!1},"Please enter a date in the format dd/mm/yyyy");n.cachedScript=function(t,i){return i=n.extend(i||{},{dataType:"script",cache:!0,url:t}),jQuery.ajax(i)};Function.prototype.trace=function(){for(var t=[],n=this;n;)t.push(n.signature()),n=n.caller;return t};Function.prototype.signature=function(){var t={name:this.getName(),params:[],toString:function(){var n=this.params.length>0?"'"+this.params.join("', '")+"'":"";return this.name+"("+n+")"}},n;if(this.arguments)for(n=0;n<this.arguments.length;n++)t.params.push(this.arguments[n]);return t};Function.prototype.getName=function(){if(this.name)return this.name;var n=this.toString().split("\n")[0],t=/^function ([^\s(]+).+/;return t.test(n)?n.split("\n")[0].replace(t,"$1")||"anonymous":"anonymous"}}(jQuery),function(n){"use strict";n(function(){n.ALZ.ConfigureValidators();n.ALZ.ToggleCheckboxes();n.ALZ.MakeUserFriendlyRadioButtons();n.ALZ.DisableNotAllowedKeysInSpecialInputs();n(".formitem").focusin(function(){n(this).addClass("formfocus")});n(".formitem").focusout(function(){var t;n(this).removeClass("formfocus");t=n(this).children("div:first").next().children();t.hasClass("valid")&&t.removeClass("invalid")});n("#page2").length>0&&(n("#t1").addClass("tabok"),n("#t1, #t3, #t4").removeClass("current"),n("#t2").addClass("current"),n(".your-premium","#staticpremium, #QuotePremMob, #QuotePremMobBottom").show());n("#page3").length>0&&(n("#t1,#t2").addClass("tabok"),n("#t1, #t2, #t4").removeClass("current"),n("#t3").addClass("current"),n(".your-premium","#staticpremium, #QuotePremMob, #QuotePremMobBottom").show(),n("#linkPrint").click(function(n){n.preventDefault();window.print()}));n("#page4").length>0&&(n("#t1, #t2, #t3").addClass("tabok"),n("#t1, #t2, #t3").removeClass("current"),n("#t4").addClass("current"),n(".your-premium","#staticpremium, #QuotePremMob, #QuotePremMobBottom").show());n(".overlay-msg[rel]").overlay({top:"5%",left:"center",mask:{color:"#003781",loadSpeed:400,opacity:.6},closeOnClick:!0})})}(jQuery),function(n){"use strict";function f(){function g(t){var i=n("#"+t),r=!1,u=n.ALZ.GetApplicationRoot()+"/Quote/Pay";return n.ajax({url:u,type:"POST",data:n("#"+t).serialize(),async:!1}).done(function(t){var f,u;if(t.IsValid!=undefined&&!t.isValid)return r=!1,n.each(t.Errors,function(t,i){i!=null&&n('span[data-valmsg-for="'+t+'"]').html(i[i.length-1].ErrorMessage).addClass("field-validation-invalid")}),r;f=n("<div/>").append(t).find("input");f.each(function(t,r){var u=n(r),f=i.find("[name='"+u.attr("name")+"']");f.length>0?f.replaceWith(u):i.append(u)});u=n(":input[name='suburl']",i);u.length>0&&i.attr("action",u.val());u.remove();r=!0}),r}var f=this,v,y;this.constants=new a;e(f);var p=function(n){return(n=n.toUpperCase(),!/^IE/.test(n))?(i=!1,!1):!0},k=function(n){var f,u,t,r;for(n=n.toUpperCase(),f=/^[iI][eE]\d{2}[a-zA-Z]{4}\d{14}$/.test(n),n=n.replace(/^(.{4})(.*)$/,"$2$1"),n=n.replace(/[A-Z]/g,function(n){return n.charCodeAt(0)-"A".charCodeAt(0)+10}),u=0,t=1,r=n.length-1;r>=0;r--)u+=t*parseInt(n.charAt(r),10),t=t*10%97;return f&&u%97==1?!0:(i=!1,!1)},r=function(r,u,f){var e=ko.utils.unwrapObservable(u());l("#"+f.substring(2));n.trim(e)===r.constants.IS_NOT_SELECTED?(t("#"+f.substring(2)),r[f](!0),i=!1):r[f](!1)},u=function(r){return n.ALZ.IsEmptyField("#"+r)?(i=!1,t("#"+r),!1):!0},w=function(t){return n("[name="+t+"]:checked").length==0?(i=!1,!1):!0},i=!0;o(f);this.ValidateQuoteViewModel=function(){i=!0;var t=new c;return r(this,this.MainInsuredTitleId,"IsMainInsuredTitleId"),r(this,this.MainInsuredAddressCountyId,"IsMainInsuredAddressCountyId"),r(this,this.MainInsuredOccupationId,"IsMainInsuredOccupationId"),r(this,this.MainInsuredEmploymentStatusId,"IsMainInsuredEmploymentStatusId"),r(this,this.VetId,"IsVetId"),r(this,this.VetPracticeCountyServiceId,"IsVetPracticeCountyServiceId"),n("#divIsPetJointlyOwned").find('input[type="radio"]:checked').first().val().toLowerCase()=="true"&&r(this,this.JointTitleId,"IsJointTitleId"),n(".PetdetailsSection").each(function(){n(this).is(":visible")&&(n(this).find('input[type="radio"]:checked').length<7?(n(this).find(".PetQuestionsAlert").show(),i=!1):n(this).find(".PetQuestionsAlert").hide())}),i?(n(".input-validation-error").length>0&&(n(".input-validation-error").addClass("invalid"),n("#btnPageValidationError").click(),n(".invalid").first().focus()),this.deleteNonFilledPets()):(n(".input-validation-error").addClass("invalid"),n("#page1").submit(),n(".input-validation-error").addClass("invalid"),n("#btnPageValidationError").click(),n(".invalid").first().focus()),i};n(".checkdateitem").keyup(function(t){var t=n(this).val();t.length==n(this).attr("maxlength")&&n(this).nextAll("input").first().focus()});h(f);v=n("#PaymentModeId option:selected").val();y=n("#DepositCompleted").val();v===f.constants.MONTHLY_DIRECT_DEBIT&&y==="True"&&(n("#DirectDebitAccountHolderTypeId,#PaymentModeId,#HeardAboutAllianzOnId,#AdditionalComments").attr("disabled",!0),n(".tabok").bind("click",!1),n(":radio").prop("disabled",function(){return!this.disabled}));this.ValidatePayQuoteViewModel=function(){return i=!0,this.validateMainInsuredEmail=u("MainInsuredEmail"),this.validateMainInsuredModile=u("MainInsuredMobile"),this.IsPlaceBorn(!u("PlaceBorn")),this.IsEmailId(!u("MainInsuredEmail")),this.IsMobileNumber(!u("MainInsuredMobile")),r(this,this.HeardAboutAllianzOnId,"IsHeardAboutAllianzOnId"),r(this,this.PaymentModeId,"IsPaymentModeId"),(n.trim(this.PaymentModeId())===f.constants.MONTHLY_DIRECT_DEBIT||n.trim(this.PaymentModeId())===f.constants.SINGLEANNUAL_DIRECRDEBIT)&&(r(this,this.DirectDebitAccountHolderTypeId,"IsDirectDebitAccountHolderTypeId"),this.validateDirectDebitAccountHolderName=u("DirectDebitAccountHolderName"),this.IsDirectDebitAccountHolderName(!u("DirectDebitAccountHolderName")),this.IsDirectDebitIBAN(!u("DirectDebitIBAN")),u("DirectDebitIBAN")&&(this.IsDirectDebitIBANNonIrish(!p(n("#DirectDebitIBAN").val())),p(n("#DirectDebitIBAN").val())&&this.IsDirectDebitIBANValid(!k(n("#DirectDebitIBAN").val()))),this.IsDirectDebitBIC(!u("DirectDebitBIC")),this.validateDirectDebitAuthorizedDirectDebits=w("DirectDebitAuthorizedDirectDebits"),this.validateDirectDebitHasAccountBeenUsedBefore=w("DirectDebitHasAccountBeenUsedBefore"),r(this,this.DirectDebitAccountHolderTypeId,"IsDirectDebitAccountHolderTypeId"),n.trim(this.DirectDebitAccountHolderTypeId())!=f.constants.IS_NOT_SELECTED&&n.trim(this.DirectDebitAccountHolderTypeId())!=f.constants.ACCOUNT_HOLDER_SELF&&this.IsDirectDebitAccountHolderAddressLine1(!u("DirectDebitAccountHolderAddressLine1"))),i?n(".input-validation-error").length>0?n(".invalid").first().focus():n("#MakePayment").hide():(this.validateDirectDebitAuthorizedDirectDebits&&this.validateDirectDebitHasAccountBeenUsedBefore?n("#DirectDebitAlert").hide():n("#DirectDebitAlert").show(),n(".input-validation-error").addClass("invalid"),n("#page4").submit(),n(":submit","#Pay").attr("disabled",!1),n(".invalid").first().focus()),i};var b="Pay",v,y=n("#DepositCompleted").val(),d=n("#CollectDepositAmount").val();n("#"+b).on("submit",function(t){if(v=n("#PaymentModeId option:selected").val(),n(":submit",i).attr("disabled",!0),v===f.constants.CREDIT_CARD_DEBIT_CARD_ANNUAL||v===f.constants.MONTHLY_DIRECT_DEBIT&&y==="False"&&d==="True"){var i=n(this);if(!i.validate().checkForm()||!g(b))return n(":submit",i).attr("disabled",!1),n("#MakePayment").show(),t.stopImmediatePropagation(),!1;t.stopImmediatePropagation()}return!0});s(this);this.ValidateConfirmViewModel=function(){return i=!1,n('input[type="checkbox"][name="Confirmed"]:checked').length>0?(this.NotConfirmed(!1),i=!0):this.NotConfirmed(!0),i||(n(".input-validation-error").addClass("invalid"),n(".invalid").first().focus()),i}}function e(n){n.IsAcceptEligibility=ko.observable();n.ErrorAcceptEligibility=ko.observable();n.IsAcceptTerms=ko.observable();n.ErrorAcceptTerm=ko.observable()}function o(t){var r=n("#EircodeId").val()!==undefined&&n("#EircodeId").val().length>0,i;t.MainInsuredTitleId=ko.observable();t.IsMainInsuredTitleId=ko.observable();t.MainInsuredAddressCountyId=ko.observable();t.IsMainInsuredAddressCountyId=ko.observable();t.MainInsuredOccupationId=ko.observable();t.IsMainInsuredOccupationId=ko.observable();t.MainInsuredEmploymentStatusId=ko.observable();t.IsMainInsuredEmploymentStatusId=ko.observable();t.IsLocationDetails=ko.observable();t.VerifyAddress=ko.observable();t.VetId=ko.observable();t.IsVetId=ko.observable();t.VetPracticeCountyServiceId=ko.observable();t.IsVetPracticeCountyServiceId=ko.observable();t.JointTitleId=ko.observable();t.IsJointTitleId=ko.observable();t.NumberOfPets=ko.observable();t.AddressFound=ko.observable(r);t.deleteNonFilledPets=function(){var i=n("fieldset[name='PetDetails']");i.each(function(i,r){i>t.NumberOfPets()-1&&n(r).remove()})};t.vetPracticeCountyChange=function(t,i){var r=n(i.target),u=n("[name$='VetId']").first();n.ALZ.GetDropdownSubscribe("#"+u.attr("id"),"/api/business/getvetpracticebycounty/",function(){return{countyId:r.val()}})};t.petMicroChippedChange=function(i,r){var e=n(r.target),o=t.getMVCCollectionFieldIndex(e.prop("name")),f,u;return o!=null&&(f=n("[name$='"+o+"MicroChipNumberId']"),u=f.first().parent().parent(),e.val()==="True"?u.show():(f.val("").removeClass("input-validation-error"),u.find("span").first().empty().removeClass("field-validation-error").addClass("field-validation-valid"),u.hide())),!0};t.typeOfPetChange=function(i,r){var e=n(r.target),f=t.getMVCCollectionFieldIndex(e.prop("name")),u,o;if(f!=null){u=n("[id$='"+f+"BreedTypeId_info']").first();u.hide();switch(n("option:selected",e).text().toLowerCase()){case"dog":u.html("Purebred is when both parents are the same breed.<br/>Crossbreed is when the parents are two different pure breeds.<br/>Mixed-breed is when your pet is a mix of 3 or more breeds, or an indeterminate breed.");u.show();break;case"cat":u.html("Purebred is when both parents are the same breed.<br/>Mixed-breed is when your pet is a mix of breeds, or an indeterminate breed.");u.show()}o=n("[name$='"+f+"BreedTypeId']").first();n.ALZ.GetDropdownSubscribe("#"+o.attr("id"),"/api/business/getbreedtypes/",function(){return{typeOfPet:e.val()}})}o=n("[name$='"+f+"NameOfBreedId']").first().parent().parent().hide()};t.breedTypeChange=function(i,r){var f=n(r.target),e=parseInt(f.val()),h=!(this.constants.NON_PEDIGREE_BREED_TYPES.indexOf(e)>-1),o=t.getMVCCollectionFieldIndex(f.prop("name")),s=n("[name$='"+o+"NameOfBreedId']").first(),u;e!==-1&&(u=s.parent().parent(),u.hide(),h&&(n.ALZ.GetDropdownSubscribe("#"+s.attr("id"),"/api/business/getpedigreenamesofbreeds/",function(){return{breedTypeId:n("[name$='"+o+"BreedTypeId']").first().val()}}),u.show()))};t.nameOfBreedChange=function(t,i){var r=n(i.target);n.ALZ.PetDeclinedSelectBreeds[r.val()]&&n("#btnDeclinedBreed").click()};t.getMVCIndexFromEventTarget=function(i){var r=n(i.target),u=r.prop("name");return t.getMVCCollectionFieldIndex(u)};t.getMVCCollectionFieldIndex=function(n){i==undefined&&(i=new RegExp("(.*?\\.).*?$"));var t=i.exec(n);return t.length>1?t[1]:null}}function s(n){n.NotConfirmed=ko.observable()}function h(t){t.IsEmailId=ko.observable(!1);t.IsMobileNumber=ko.observable(!1);t.SendDocumentsById=ko.observable();t.IsSendDocumentsById=ko.observable();t.HeardAboutAllianzOnId=ko.observable();t.IsHeardAboutAllianzOnId=ko.observable();t.PaymentModeId=ko.observable();t.IsPaymentModeId=ko.observable();t.CardCardTypeId=ko.observable();t.IsCardCardTypeId=ko.observable();t.DirectDebitAccountHolderTypeId=ko.observable();t.IsDirectDebitAccountHolderTypeId=ko.observable();t.IsCardHolderName=ko.observable();t.IsCardHolderPhoneNumber=ko.observable();t.IsCardNumber=ko.observable();t.IsCardExpireDate=ko.observable();t.PlaceBorn=ko.observable(n("#PlaceBorn").val());t.IsPlaceBorn=ko.observable();t.IsDirectDebitAccountHolderName=ko.observable();t.IsDirectDebitBIC=ko.observable();t.IsDirectDebitIBAN=ko.observable();t.IsDirectDebitIBANValid=ko.observable();t.IsDirectDebitIBANNonIrish=ko.observable();t.IsDirectDebitAccountHolderAddressLine1=ko.observable();t.ExpireMonth=ko.observable();t.IsExpireMonth=ko.observable();t.ExpireYear=ko.observable();t.IsExpireYear=ko.observable();t.CREDIT_CARD_DEBIT_CARD_ANNUAL=ko.observable(1);t.MONTHLY_DIRECT_DEBIT=ko.observable(2);t.ACCOUNT_HOLDER_SELF=ko.observable(1);t.SINGLEANNUAL_DIRECRDEBIT=ko.observable(3)}function c(){this.validatePetNames=function(){return n.ALZ.IsEmptyField("#PetDetailsRegisteredName")&&n.ALZ.IsEmptyField("#PetDetailsPetName")};this.validateLegalOwnerName=function(){return n.ALZ.IsEmptyField("#PetDetailsLegalOwnerName")};this.validatePetDateOfBirth=function(){return n.ALZ.IsEmptyField("#PetDetailsDateOfBirth")};this.validatePetPurchasedate=function(){return n.ALZ.IsEmptyField("#PetDetailsPurchaseDate")};this.validatePetLocation=function(){return n.ALZ.IsEmptyField("#PetDetailsLocationDescriptionAddress")};this.validateVetPracticeName=function(){return n.ALZ.IsEmptyField("#PetDetailsVetPracticeName")};this.validateVetPracticeAddress=function(){return n.ALZ.IsEmptyField("#PetDetailsVetPracticeAddress")};this.validateTrailerMakeModel=function(){return n.ALZ.IsEmptyField("#CoverOptionsTrailerMakeModel")}}function t(t){n(t).attr("class","input-validation-error")}function l(t){n(t).removeAttr("class")}function a(){this.IS_NOT_SELECTED="-1";this.CREDIT_CARD_DEBIT_CARD_ANNUAL="1";this.MONTHLY_DIRECT_DEBIT="2";this.SINGLEANNUAL_DIRECRDEBIT="3";this.RADIO_BUTTON_CHECKED_TRUE="true";this.NON_PEDIGREE_BREED_TYPES=[2];this.ACCOUNT_HOLDER_SELF="1"}var i="1",r="2",u="1";n(function(){ko.applyBindings(new f);n.ALZ.NumericOnly("#FpnNotificationMobile");n.ALZ.RestrictMaxCharacters("#FpnNotificationMobile",14);n.ALZ.RestrictMaxCharacters("#FpnNotificationEmail",40);var t=n('input[name="FpnNotificationId"]:radio'),e=n("#DirectDebitAccountHolderTypeId");e.change(function(){var r=n(this),i=r.val();i!==u&&i!==""?n(".fpnnotification").show():(n(".fpnnotification").hide(),n(".fpnnotificationmobile").hide(),n(".fpnnotificationemail").hide(),t.prop("checked",!1))});t.change(function(){var u=n(this),t=u.val();t===i?(n("#FpnNotificationEmail").val(""),n(".fpnnotificationemail").show(),n(".fpnnotificationmobile").hide()):t===r?(n("#FpnNotificationMobile").val(""),n(".fpnnotificationmobile").show(),n(".fpnnotificationemail").hide()):(n(".fpnnotificationemail").hide(),n(".fpnnotificationmobile").hide())})})}(jQuery),function(n){n(function(){n("#MainInsuredEmail").on("blur",function(){var t=n("#MainInsuredEmail").val(),i=n.trim(n("#MainInsuredEmail").val()).length;i>0&&/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-||_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+([a-z]+|\d|-|\.{0,1}|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])?([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/.test(t)&&n.ajax({url:n.ALZ.AddressConfiguration.ApplicationRoot+"/api/Hash/GenerateHashedString",data:{plainText:t},contentType:"application/json; charset=utf-8",dataType:"text",success:function(t){t!==null&&n("#HashEMail").val(t)}})})})}(jQuery),function(n){"use strict";n(function(){var t=n("#content01"),i=n("#content02");n("#loadingStatus").hide();t.length>0?(i.hide(),t.show()):(t.hide(),i.show())})}(jQuery),function(n){"use strict";var t="False";n(function(){var r=n("#MainInsuredEmail"),f=n("#SubscribeMarketing"),u=n("input[name='SubscribeMarketing']"),e=n("#unSubscribeMarketingError"),i=n("#subscribeMarketingError");r.change(function(){u.prop("checked",!1);i.css("display","none");e.css("display","none")});u.change(function(){var u,e,o,s=n(this).val();u=r.val();o=ApplicationRoot||n.ALZ.GetApplicationRoot();e=n("#unSubscribeMarketingError");i=n("#subscribeMarketingError");n(this).parent().closest("div").removeClass("invalidradiobutton");s===t?n.trim(u).length?(e.css("display","none"),i.css("display","none"),n.post(o+"/MarketingService/UnSubscribeFromMarketing",{email:u})):(e.css("display","block"),i.css("display","none"),f.prop("checked",!1)):n.trim(u).length?(i.css("display","none"),e.css("display","none"),n.post(o+"/MarketingService/SubscribeToMarketing",{email:u})):(i.css("display","block"),e.css("display","none"))})})}(jQuery),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){function u(n){return n}function f(n){return decodeURIComponent(n.replace(r," "))}function i(n){n.indexOf('"')===0&&(n=n.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t.json?JSON.parse(n):n}catch(i){}}var r=/\+/g,t=n.cookie=function(r,e,o){var l,h,s,y;if(e!==undefined)return o=n.extend({},t.defaults,o),typeof o.expires=="number"&&(l=o.expires,h=o.expires=new Date,h.setDate(h.getDate()+l)),e=t.json?JSON.stringify(e):String(e),document.cookie=[t.raw?r:encodeURIComponent(r),"=",t.raw?e:encodeURIComponent(e),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("");var a=t.raw?u:f,v=document.cookie.split("; "),c=r?undefined:{};for(s=0,y=v.length;s<y;s++){var p=v[s].split("="),w=a(p.shift()),b=a(p.join("="));if(r&&r===w){c=i(b);break}r||(c[w]=i(b))}return c};t.defaults={};n.removeCookie=function(t,i){return n.cookie(t)!==undefined?(n.cookie(t,"",n.extend(i,{expires:-1})),!0):!1}})